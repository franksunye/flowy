# 01_CHANGELOG.md - Flowy 变更日志

所有重要的项目变更都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [未发布] - 2025-07-18

### 新增 (Added)
- 建立了完整的Jest单元测试框架
- 创建了隔离测试环境 (`IsolatedFlowyTestEnvironment`)
- 添加了83个单元测试，覆盖所有核心功能
- 建立了项目文档结构 (00_BACKLOG.md, 01_CHANGELOG.md, 31_TESTING.md)
- 创建了测试最佳实践和模式

### 改进 (Changed)
- 重构了测试架构，消除了测试间依赖
- 优化了测试执行效率，平均每测试 < 200ms
- 改进了错误处理和边界条件测试

### 修复 (Fixed)
- 解决了测试间状态污染问题
- 修复了DOM ready回调累积导致的测试失败
- 解决了全局变量冲突问题

### 测试覆盖
- **API契约测试**: 17个测试 - 100%通过
- **拖拽功能测试**: 17个测试 - 100%通过  
- **吸附算法测试**: 16个测试 - 100%通过
- **工作流行为测试**: 19个测试 - 100%通过
- **隔离环境测试**: 3个测试 - 100%通过
- **初始化功能测试**: 11个测试 - 100%通过

### 技术债务清理
- 删除了损坏的测试文件
- 清理了重复的测试代码
- 移除了临时调试文件

## [1.0.0] - 原始版本

### 新增 (Added)
- 核心拖拽功能实现
- 吸附算法实现
- 基础API (`flowy.output()`, `flowy.deleteBlocks()`)
- jQuery依赖的DOM操作
- 基础的端到端测试

### 功能特性
- 响应式拖拽
- 自动吸附
- 块重排
- 删除块
- 自动块居中

---

## 版本说明

### 版本号规则
- **主版本号**: 不兼容的API修改
- **次版本号**: 向下兼容的功能性新增
- **修订号**: 向下兼容的问题修正

### 变更类型
- **新增 (Added)**: 新功能
- **改进 (Changed)**: 对现有功能的修改
- **弃用 (Deprecated)**: 即将移除的功能
- **移除 (Removed)**: 已移除的功能
- **修复 (Fixed)**: 错误修复
- **安全 (Security)**: 安全相关修复

---

**维护者**: Flowy开发团队  
**最后更新**: 2025-07-18
