# 🤝 Flowy 贡献指南

感谢您对Flowy项目的关注！我们欢迎所有形式的贡献。

**项目状态**: 1.0.0 | 积极开发中 | 模块化重构40%完成

## 🚀 快速开始

```bash
# 1. Fork 并克隆
git clone https://github.com/YOUR_USERNAME/flowy.git
cd flowy && npm install

# 2. 验证环境
npm test                    # 83/83 测试通过
npm run dev                 # 启动开发服务器

# 3. 开发工作流
npm run test:watch          # 测试监听
npm run lint                # 代码检查
```

## 🎯 贡献方式

### 🐛 Bug修复
1. 搜索现有Issues → 创建新Issue (如需要)
2. Fork项目 → 创建修复分支
3. 编写测试重现问题 → 修复 → 提交PR

### ✨ 新功能
1. 在Issues中讨论 → 等待确认
2. 创建功能分支 → 编写测试 → 实现功能
3. 更新文档 → 提交PR

### 📚 文档/测试改进
1. 识别问题 → 创建分支
2. 改进内容 → 确保质量 → 提交PR

## 🔧 开发指南

### 代码风格
- 使用ESLint配置进行代码检查
- 使用Prettier进行代码格式化
- 遵循现有的代码风格

```bash
# 检查代码质量
npm run lint

# 自动修复
npm run lint:fix

# 格式化代码
npm run format
```

### 测试要求
- 所有新功能必须有对应的单元测试
- 确保所有测试通过 (83/83)
- 使用隔离测试环境避免测试间干扰

```bash
# 运行所有测试
npm test

# 监听模式 (开发时使用)
npm run test:watch

# 覆盖率报告
npm run test:coverage
```

### 提交规范
使用清晰的提交信息：
```
类型(范围): 简短描述

详细描述 (可选)

相关Issue: #123
```

**提交类型**:
- `feat`: 新功能
- `fix`: Bug修复
- `docs`: 文档更新
- `test`: 测试相关
- `refactor`: 重构
- `style`: 代码格式
- `chore`: 构建/工具相关

### 分支命名
- `feature/功能名称`: 新功能
- `fix/问题描述`: Bug修复
- `docs/文档类型`: 文档更新
- `refactor/重构内容`: 重构

## 🏗️ 模块化重构

### 当前重构状态
- ✅ DOM工具模块 (已完成)
- ✅ 块管理模块 (已完成)
- 🔄 吸附引擎模块 (进行中)
- 📋 拖拽处理模块 (计划中)

### 重构原则
1. **向后兼容**: 保持API完全兼容
2. **测试驱动**: 每个改动都有测试保障
3. **渐进式**: 小步快跑，频繁验证
4. **零功能影响**: 功能完全一致

### 参与重构
如果您想参与模块化重构：
1. 阅读 `docs/REFACTORING_PLAN.md`
2. 查看 `docs/REFACTORING_PROGRESS.md` 了解当前进度
3. 在Issues中讨论您想贡献的模块
4. 遵循重构流程和验证标准

## 📝 Pull Request流程

### 提交前检查
```bash
# 完整的质量检查
npm run lint && npm run format:check && npm test
```

### PR描述模板
```markdown
## 变更类型
- [ ] Bug修复
- [ ] 新功能
- [ ] 文档更新
- [ ] 重构
- [ ] 测试改进

## 变更描述
简要描述您的变更内容

## 测试
- [ ] 所有现有测试通过
- [ ] 添加了新的测试用例
- [ ] 手动测试通过

## 检查清单
- [ ] 代码遵循项目风格指南
- [ ] 自我审查了代码变更
- [ ] 添加了必要的注释
- [ ] 更新了相关文档
- [ ] 变更不会破坏现有功能

## 相关Issue
关闭 #(issue编号)
```

### 审查流程
1. 自动化检查 (CI/CD)
2. 代码审查
3. 测试验证
4. 文档检查
5. 合并到主分支

## 🎯 优先级指南

### 高优先级
- Bug修复
- 安全问题
- 性能问题
- 模块化重构

### 中优先级
- 新功能
- 文档改进
- 测试覆盖

### 低优先级
- 代码风格改进
- 重构优化

## 📞 获取帮助

- **文档**: 查看 `docs/` 目录下的详细文档
- **Issues**: 在GitHub Issues中提问
- **Discussions**: 在GitHub Discussions中讨论
- **Email**: 联系维护者

## 🙏 致谢

感谢所有为Flowy项目做出贡献的开发者！

---

**维护者**: Flowy开发团队  
**最后更新**: 2025-07-22
