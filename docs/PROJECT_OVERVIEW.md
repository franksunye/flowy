# 📊 Flowy 项目概览

## 🎯 项目简介

Flowy是一个现代化的JavaScript流程图库，专注于提供简单易用的拖拽式流程图创建功能。项目正在进行全面的现代化重构，从单体架构转向模块化架构，同时保持100%的向后兼容性。

## 📈 项目状态

**版本**: 1.0.0 (现代化版本)  
**开发状态**: 🔄 积极开发中  
**重构进度**: 40% 完成  
**测试覆盖**: 83个单元测试，100%通过率  
**构建系统**: ✅ Vite现代化构建  
**代码质量**: ✅ ESLint + Prettier  

## 🏗️ 架构演进

### 架构转型路径
```
原始状态 → 测试基础 → 模块化 → ES6+ → TypeScript
单体文件   ✅完成     🔄进行中   📋计划   📋计划
```

### 模块化进展
- ✅ **DOM工具模块** - 封装jQuery操作接口
- ✅ **块管理模块** - 提取blocks数组管理逻辑
- 🔄 **吸附引擎模块** - 计划中
- 📋 **拖拽处理模块** - 计划中
- 📋 **API模块** - 计划中

## 🧪 质量保证

### 测试体系
- **单元测试**: 83个测试，100%通过率
- **测试类型**: API契约、拖拽功能、吸附算法、工作流行为
- **测试环境**: 隔离测试环境，避免测试间干扰
- **性能测试**: 基准测试和回归检测

### 代码质量
- **ESLint**: 代码质量和潜在错误检查
- **Prettier**: 统一代码格式
- **EditorConfig**: 编辑器配置一致性
- **CI/CD**: GitHub Actions自动化检查

## 🚀 技术栈

### 当前技术栈
- **核心**: Vanilla JavaScript (ES5 + 模块化)
- **DOM操作**: jQuery (封装在模块中)
- **构建**: Vite (现代化构建系统)
- **测试**: Jest + JSDOM
- **代码质量**: ESLint + Prettier
- **CI/CD**: GitHub Actions

### 目标技术栈
- **核心**: Modern JavaScript (ES6+)
- **类型**: TypeScript (渐进式)
- **DOM操作**: 原生JavaScript
- **构建**: Vite (已实现)
- **测试**: Jest + Playwright

## 📁 项目结构

```
flowy/
├── src/                    # 🎯 源代码 (模块化架构)
│   ├── flowy.js           # 主入口文件
│   ├── flowy.css          # 核心样式
│   ├── core/              # 核心模块
│   │   └── block-manager.js # ✅ 块管理模块
│   └── utils/             # 工具模块
│       └── dom-utils.js   # ✅ DOM工具模块
├── dist/                   # 📦 构建输出 (多格式)
│   ├── flowy.es.js        # ES模块格式
│   ├── flowy.umd.js       # UMD格式
│   └── flowy.iife.js      # IIFE格式
├── tests/                  # 🧪 测试套件
│   ├── unit/              # 83个单元测试
│   ├── e2e-test.js        # 端到端测试
│   └── performance/       # 性能测试
├── docs/                   # 📚 完整文档
│   ├── 00_BACKLOG.md      # 产品待办事项
│   ├── 01_CHANGELOG.md    # 变更日志
│   ├── 10_ARCHITECTURE.md # 架构文档
│   ├── 30_DEVELOPMENT.md  # 开发文档
│   ├── CONTRIBUTING.md    # 贡献指南
│   └── 演示目录...
└── 配置文件...             # 现代化工具配置
```

## 🎯 核心功能

### 已实现功能 ✅
- **响应式拖拽**: 流畅的拖拽交互
- **自动吸附**: 智能的块定位
- **块重排**: 动态工作流调整
- **删除功能**: 简单的编辑操作
- **数据输出**: JSON格式的工作流数据
- **多格式构建**: ES、UMD、IIFE三种格式

### 计划功能 📋
- **撤销/重做**: 操作历史管理
- **键盘快捷键**: 提高操作效率
- **主题系统**: 可定制外观
- **插件系统**: 扩展性增强
- **TypeScript支持**: 类型安全

## 📊 开发指标

### 代码指标
- **源代码行数**: ~500行 (主要文件)
- **模块数量**: 2个 (目标: 6-8个)
- **测试覆盖率**: 稳定监控中
- **构建大小**: 
  - ES: 31.07 kB
  - UMD: 15.06 kB
  - IIFE: 15.00 kB

### 性能指标
- **测试执行时间**: ~6秒 (83个测试)
- **构建时间**: <10秒
- **开发服务器启动**: <1秒
- **热更新响应**: <500ms

## 🏃‍♂️ 敏捷实践

### Scrum框架
- **Sprint周期**: 2周
- **当前Sprint**: Sprint 2 (模块化重构)
- **Sprint目标**: 完成核心模块提取
- **完成标准**: 所有测试通过 + 功能零影响

### 开发流程
1. **需求分析**: 产品待办事项管理
2. **Sprint计划**: 2周迭代规划
3. **测试驱动**: 先写测试，后写代码
4. **持续集成**: 自动化测试和构建
5. **频繁交付**: 小步快跑，快速反馈

## 🎯 里程碑

### 已完成里程碑 ✅
- **里程碑1**: 测试基础建立
- **里程碑2**: 现代化开发环境

### 当前里程碑 🔄
- **里程碑3**: 模块化重构 (40%完成)

### 计划里程碑 📋
- **里程碑4**: ES6+语法现代化
- **里程碑5**: TypeScript支持

## 🤝 贡献机会

### 适合新手
- 文档改进
- 测试用例编写
- Bug修复
- 代码格式优化

### 适合有经验开发者
- 模块化重构
- 性能优化
- 新功能开发
- 架构设计

### 高级贡献
- TypeScript迁移
- 构建系统优化
- CI/CD改进
- 安全审计

## 📞 联系方式

- **GitHub**: [franksunye/flowy](https://github.com/franksunye/flowy)
- **Issues**: 问题报告和功能请求
- **Discussions**: 技术讨论和社区交流
- **Email**: 维护者联系方式

## 🙏 致谢

感谢所有为Flowy项目做出贡献的开发者和社区成员！

---

**文档版本**: 1.0  
**最后更新**: 2025-07-22  
**维护者**: Flowy开发团队
